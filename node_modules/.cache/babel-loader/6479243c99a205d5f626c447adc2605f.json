{"ast":null,"code":"'use strict';\n/**\n * \n * @param {array} node \n * @param {any} options \n * @returns \n */\n\nfunction prettify(node, options) {\n  return compress(node, options);\n}\n/**\n * \n * @param {array} arr \n * @param {object} options \n * @param {string} jPath \n * @returns object\n */\n\n\nfunction compress(arr, options, jPath) {\n  let text;\n  const compressedObj = {};\n\n  for (let i = 0; i < arr.length; i++) {\n    const tagObj = arr[i];\n    const property = propName(tagObj);\n    let newJpath = \"\";\n    if (jPath === undefined) newJpath = property;else newJpath = jPath + \".\" + property;\n\n    if (property === options.textNodeName) {\n      if (text === undefined) text = tagObj[property];else text += \"\" + tagObj[property];\n    } else if (property === undefined) {\n      continue;\n    } else if (tagObj[property]) {\n      let val = compress(tagObj[property], options, newJpath);\n      const isLeaf = isLeafTag(val, options);\n\n      if (tagObj[\":@\"]) {\n        assignAttributes(val, tagObj[\":@\"], newJpath, options);\n      } else if (Object.keys(val).length === 1 && val[options.textNodeName] !== undefined && !options.alwaysCreateTextNode) {\n        val = val[options.textNodeName];\n      } else if (Object.keys(val).length === 0) {\n        if (options.alwaysCreateTextNode) val[options.textNodeName] = \"\";else val = \"\";\n      }\n\n      if (compressedObj[property] !== undefined && compressedObj.hasOwnProperty(property)) {\n        if (!Array.isArray(compressedObj[property])) {\n          compressedObj[property] = [compressedObj[property]];\n        }\n\n        compressedObj[property].push(val);\n      } else {\n        //TODO: if a node is not an array, then check if it should be an array\n        //also determine if it is a leaf node\n        if (options.isArray(property, newJpath, isLeaf)) {\n          compressedObj[property] = [val];\n        } else {\n          compressedObj[property] = val;\n        }\n      }\n    }\n  } // if(text && text.length > 0) compressedObj[options.textNodeName] = text;\n\n\n  if (typeof text === \"string\") {\n    if (text.length > 0) compressedObj[options.textNodeName] = text;\n  } else if (text !== undefined) compressedObj[options.textNodeName] = text;\n\n  return compressedObj;\n}\n\nfunction propName(obj) {\n  const keys = Object.keys(obj);\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (key !== \":@\") return key;\n  }\n}\n\nfunction assignAttributes(obj, attrMap, jpath, options) {\n  if (attrMap) {\n    const keys = Object.keys(attrMap);\n    const len = keys.length; //don't make it inline\n\n    for (let i = 0; i < len; i++) {\n      const atrrName = keys[i];\n\n      if (options.isArray(atrrName, jpath + \".\" + atrrName, true, true)) {\n        obj[atrrName] = [attrMap[atrrName]];\n      } else {\n        obj[atrrName] = attrMap[atrrName];\n      }\n    }\n  }\n}\n\nfunction isLeafTag(obj, options) {\n  const propCount = Object.keys(obj).length;\n  if (propCount === 0 || propCount === 1 && obj[options.textNodeName]) return true;\n  return false;\n}\n\nexports.prettify = prettify;","map":{"version":3,"names":["prettify","node","options","compress","arr","jPath","text","compressedObj","i","length","tagObj","property","propName","newJpath","undefined","textNodeName","val","isLeaf","isLeafTag","assignAttributes","Object","keys","alwaysCreateTextNode","hasOwnProperty","Array","isArray","push","obj","key","attrMap","jpath","len","atrrName","propCount","exports"],"sources":["C:/Users/anshs/OneDrive/Documents/Code/WebDevelopement/portfolioPersonal/node_modules/fast-xml-parser/src/xmlparser/node2json.js"],"sourcesContent":["'use strict';\n\n/**\n * \n * @param {array} node \n * @param {any} options \n * @returns \n */\nfunction prettify(node, options){\n  return compress( node, options);\n}\n\n/**\n * \n * @param {array} arr \n * @param {object} options \n * @param {string} jPath \n * @returns object\n */\nfunction compress(arr, options, jPath){\n  let text;\n  const compressedObj = {};\n  for (let i = 0; i < arr.length; i++) {\n    const tagObj = arr[i];\n    const property = propName(tagObj);\n    let newJpath = \"\";\n    if(jPath === undefined) newJpath = property;\n    else newJpath = jPath + \".\" + property;\n\n    if(property === options.textNodeName){\n      if(text === undefined) text = tagObj[property];\n      else text += \"\" + tagObj[property];\n    }else if(property === undefined){\n      continue;\n    }else if(tagObj[property]){\n      \n      let val = compress(tagObj[property], options, newJpath);\n      const isLeaf = isLeafTag(val, options);\n\n      if(tagObj[\":@\"]){\n        assignAttributes( val, tagObj[\":@\"], newJpath, options);\n      }else if(Object.keys(val).length === 1 && val[options.textNodeName] !== undefined && !options.alwaysCreateTextNode){\n        val = val[options.textNodeName];\n      }else if(Object.keys(val).length === 0){\n        if(options.alwaysCreateTextNode) val[options.textNodeName] = \"\";\n        else val = \"\";\n      }\n\n      if(compressedObj[property] !== undefined && compressedObj.hasOwnProperty(property)) {\n        if(!Array.isArray(compressedObj[property])) {\n            compressedObj[property] = [ compressedObj[property] ];\n        }\n        compressedObj[property].push(val);\n      }else{\n        //TODO: if a node is not an array, then check if it should be an array\n        //also determine if it is a leaf node\n        if (options.isArray(property, newJpath, isLeaf )) {\n          compressedObj[property] = [val];\n        }else{\n          compressedObj[property] = val;\n        }\n      }\n    }\n    \n  }\n  // if(text && text.length > 0) compressedObj[options.textNodeName] = text;\n  if(typeof text === \"string\"){\n    if(text.length > 0) compressedObj[options.textNodeName] = text;\n  }else if(text !== undefined) compressedObj[options.textNodeName] = text;\n  return compressedObj;\n}\n\nfunction propName(obj){\n  const keys = Object.keys(obj);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if(key !== \":@\") return key;\n  }\n}\n\nfunction assignAttributes(obj, attrMap, jpath, options){\n  if (attrMap) {\n    const keys = Object.keys(attrMap);\n    const len = keys.length; //don't make it inline\n    for (let i = 0; i < len; i++) {\n      const atrrName = keys[i];\n      if (options.isArray(atrrName, jpath + \".\" + atrrName, true, true)) {\n        obj[atrrName] = [ attrMap[atrrName] ];\n      } else {\n        obj[atrrName] = attrMap[atrrName];\n      }\n    }\n  }\n}\n\nfunction isLeafTag(obj, options){\n  const propCount = Object.keys(obj).length;\n  if( propCount === 0 || (propCount === 1 && obj[options.textNodeName]) ) return true;\n  return false;\n}\nexports.prettify = prettify;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}